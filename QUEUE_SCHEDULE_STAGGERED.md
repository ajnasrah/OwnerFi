# Late.dev Queue Schedule - Staggered by Brand

## Overview
All 3 brands post 5x per day with **NO conflicts** - each brand posts at different times.

**Note:** Benefits videos use the OwnerFi Late profile (same queue).

---

## Daily Schedule Breakdown (EST)

| Time (EST) | Carz Inc | OwnerFi | Podcast | Total/Hour |
|------------|----------|---------|---------|------------|
| 9:00 AM    | ✅ POST  | ✅ POST |         | 2 |
| 10:00 AM   |          |         |         | 0 |
| 11:00 AM   |          |         | ✅ POST (CST 10 AM) | 1 |
| 12:00 PM   | ✅ POST  | ✅ POST |         | 2 |
| 1:00 PM    |          |         |         | 0 |
| 2:00 PM    |          |         | ✅ POST (CST 1 PM) | 1 |
| 3:00 PM    | ✅ POST  | ✅ POST |         | 2 |
| 4:00 PM    |          |         |         | 0 |
| 5:00 PM    |          |         | ✅ POST (CST 4 PM) | 1 |
| 6:00 PM    | ✅ POST  | ✅ POST |         | 2 |
| 7:00 PM    |          |         |         | 0 |
| 8:00 PM    |          |         | ✅ POST (CST 7 PM) | 1 |
| 9:00 PM    | ✅ POST  | ✅ POST |         | 2 |
| 10:00 PM   |          |         |         | 0 |
| 11:00 PM   |          |         | ✅ POST (CST 10 PM) | 1 |

**Total Daily Posts**: 15 videos (5 Carz + 5 OwnerFi + 5 Podcast)

---

## Brand-Specific Schedules

### Carz Inc (EST)
**Profile**: Carz Inc
**Timezone**: America/New_York (EST/EDT)
**Posts per day**: 5

| Slot | Time (EST) | Purpose |
|------|------------|---------|
| 1    | 9:00 AM    | Morning commute |
| 2    | 12:00 PM   | Lunch break |
| 3    | 3:00 PM    | Afternoon |
| 4    | 6:00 PM    | Evening commute |
| 5    | 9:00 PM    | Prime time |

---

### OwnerFi + Benefits (EST)
**Profile**: OwnerFi
**Timezone**: America/New_York (EST/EDT)
**Posts per day**: 10 total (5 viral + 5 benefits, managed by cron schedules)

| Slot | Time (EST) | Purpose |
|------|------------|---------|
| 1    | 9:00 AM    | Morning start |
| 2    | 12:00 PM   | Midday |
| 3    | 3:00 PM    | Afternoon peak |
| 4    | 6:00 PM    | After work |
| 5    | 9:00 PM    | Evening engagement |

**How it works:**
- Viral videos: Generated by `/api/cron/generate-video` at 9, 12, 3, 6, 9 EST
- Benefit videos: Generated by `/api/benefit/cron` at different times
- Both use the same OwnerFi Late profile and queue
- Queue automatically distributes them across the 5 daily slots

---

### Podcast (CST → EST)
**Profile**: Podcast
**Timezone**: America/Chicago (CST/CDT)
**Posts per day**: 5

| Slot | Time (CST) | Time (EST) | Purpose |
|------|------------|------------|---------|
| 1    | 10:00 AM   | 11:00 AM   | Mid-morning |
| 2    | 1:00 PM    | 2:00 PM    | Afternoon |
| 3    | 4:00 PM    | 5:00 PM    | End of workday |
| 4    | 7:00 PM    | 8:00 PM    | Dinner time |
| 5    | 10:00 PM   | 11:00 PM   | Before bed |

---

## Conflict-Free Design

### Why This Works:

**Carz & OwnerFi** (same timezone):
- Post at: 9 AM, 12 PM, 3 PM, 6 PM, 9 PM EST
- **Simultaneous posting is OK** - different Late profiles, different audiences

**Podcast** (offset by 1 hour):
- Posts at: 11 AM, 2 PM, 5 PM, 8 PM, 11 PM EST
- **Never conflicts** with Carz/OwnerFi times

### Late.dev Queue Load:
- **Max simultaneous**: 2 posts (Carz + OwnerFi at same times)
- **Most hours**: 0-1 posts
- **Peak hours**: 9 AM, 12 PM, 3 PM, 6 PM, 9 PM EST (2 posts each)
- **Well distributed** across the day

---

## Weekly Totals

| Brand    | Posts/Day | Posts/Week | Posts/Month |
|----------|-----------|------------|-------------|
| Carz Inc | 5         | 35         | 150         |
| OwnerFi  | 10*       | 70         | 300         |
| Podcast  | 5         | 35         | 150         |
| **Total**| **20**    | **140**    | **600**     |

*OwnerFi = 5 viral + 5 benefits (different content types, same profile)

---

## Cron Schedule → Queue Mapping

### Carz Inc
```
Cron: 0 9,12,15,18,21 * * *
Triggers: 9 AM, 12 PM, 3 PM, 6 PM, 9 PM EST
Queue slots: Same times (immediate match)
```

### OwnerFi (Viral)
```
Cron: 0 9,12,15,18,21 * * *
Triggers: 9 AM, 12 PM, 3 PM, 6 PM, 9 PM EST
Queue slots: Shares with Benefits (auto-distributed)
```

### OwnerFi (Benefits)
```
Cron: 0 10,13,16,19,22 * * *
Triggers: 10 AM, 1 PM, 4 PM, 7 PM, 10 PM CST = 11 AM, 2 PM, 5 PM, 8 PM, 11 PM EST
Queue slots: Shares with Viral (auto-distributed)
Note: Benefits cron is offset to spread generation, but queue handles posting
```

### Podcast
```
Cron: 0 9,12,15,18,21 * * *
Triggers: 9 AM, 12 PM, 3 PM, 6 PM, 9 PM CST = 10 AM, 1 PM, 4 PM, 7 PM, 10 PM EST
Queue slots: 10 AM, 1 PM, 4 PM, 7 PM, 10 PM CST (posts 1 hour after Carz/OwnerFi in EST)
```

---

## How Queue Auto-Distribution Works

### OwnerFi Profile (10 videos → 5 slots):

When you have 10 videos queued for 5 slots, Late.dev automatically distributes them:

**Example Day:**
- 9:00 AM slot: Video 1 (could be viral)
- 12:00 PM slot: Video 2 (could be benefit)
- 3:00 PM slot: Video 3 (could be viral)
- 6:00 PM slot: Video 4 (could be benefit)
- 9:00 PM slot: Video 5 (could be viral)
- ...and continues into next day's slots

**Key Points:**
- Videos are posted in **order received**
- Queue fills **chronologically**
- No manual sorting needed
- Mix happens naturally based on cron timing

---

## Setup Instructions

### 1. Run Queue Setup Script
```bash
npx tsx scripts/setup-late-queues.ts
```

This will configure all 3 queues on Late.dev.

### 2. Verify Configuration
```bash
npx tsx scripts/setup-late-queues.ts --view
```

### 3. Monitor Queue
Check Late.dev dashboard: https://getlate.dev/dashboard

---

## FAQ

### Q: Won't OwnerFi's queue get backed up with 10 videos/day?

**A:** No! Late.dev's queue is designed for this:
- Videos fill slots **in order**
- If you have 10 videos and 5 daily slots, they roll into next day
- Over time, it averages out to 5/day (the queue config)
- You can increase slots if queue backs up

### Q: What if crons run at different times than queue slots?

**A:** That's normal and expected:
- **Cron time** = When video is **generated** and added to queue
- **Queue slot** = When Late.dev **posts** it
- Example: Benefit video generated at 11 AM EST might post at 12 PM EST (next slot)

### Q: Do Carz and OwnerFi conflict by posting same time?

**A:** No:
- They use **different Late profiles**
- Different social accounts
- Different audiences
- Late.dev handles multiple profiles simultaneously

### Q: How do I prevent queue backup?

**A:** Options:
1. Increase slots per day (edit queue script)
2. Decrease video generation frequency
3. Monitor Late dashboard for queue depth
4. Set `reshuffleExisting: true` when updating queues

---

## Monitoring

### Daily Checks:
- [ ] All 15 videos posted successfully
- [ ] No queue backlog on Late.dev dashboard
- [ ] No failed uploads in Vercel logs

### Weekly Review:
- Queue depth for each brand
- Posting time accuracy
- Engagement per time slot
- Adjust slots if needed

---

**Last Updated**: October 2025
**Queue Version**: 5x Daily (Staggered)
